---
phase: 31-update-rust-and-node-cli-readmes-with-latest-project-features
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/cli-rust/README.md
  - packages/cli-node/README.md
autonomous: true

must_haves:
  truths:
    - "Rust CLI README reflects the current feature set and install model"
    - "Node CLI README explains passthrough parity and prebuilt binary installs"
    - "All command names and flags listed match actual CLI definitions"
  artifacts:
    - path: "packages/cli-rust/README.md"
      provides: "Updated Rust CLI documentation with current features and install details"
      contains: "Features"
    - path: "packages/cli-node/README.md"
      provides: "Updated Node CLI documentation with parity and platform details"
      contains: "How it works"
---

<objective>
Update the Rust and Node CLI READMEs so they accurately describe the latest opencode-cloud features, installation model, and key commands.

Purpose: Keep CLI package documentation aligned with the real CLI capabilities and root project README.
Output: Updated `packages/cli-rust/README.md` and `packages/cli-node/README.md`.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-update-rust-and-node-cli-readmes-with-latest-project-features/31-CONTEXT.md
@README.md

# CLI command sources for accuracy
@packages/cli-rust/src/commands/start.rs
@packages/cli-rust/src/commands/update.rs
@packages/cli-rust/src/commands/status.rs
@packages/cli-rust/src/commands/host/
@packages/cli-rust/src/commands/mount/
@packages/cli-rust/src/commands/user/
@packages/cli-rust/src/commands/config/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit CLI features and flags for documentation accuracy</name>
  <files>packages/cli-rust/src/commands/*</files>
  <action>
Review the relevant command modules to confirm:
- Feature set to highlight (remote hosts, mount, users, cockpit, updates, prebuilt images)
- Canonical command names and example subcommands
- Exact flag names for start/update/rebuild behaviors

Capture a short list of verified commands/flags to use in both READMEs.
  </action>
  <verify>
Open the referenced command files and cross-check all listed flags and subcommands.
  </verify>
  <done>
Verified command names and flags are ready to include in README updates.
  </done>
</task>

<task type="auto">
  <name>Task 2: Refresh Rust CLI README with current features</name>
  <files>packages/cli-rust/README.md</files>
  <action>
Update the Rust CLI README to reflect current capabilities:

1. Add or update a concise "Features" section aligned with root README.
2. Refresh installation notes:
   - Keep cargo install paths
   - Update npm note to indicate prebuilt binaries (no compile-on-install)
3. Expand usage/examples to include current commands:
   - Remote host management (`occ host ...` and `--host`)
   - Bind mounts (`occ mount ...`)
   - User management/auth (PAM-based users)
   - Image pull/build behavior and rebuild flags (verified in Task 1)
4. Preserve the architecture and "Adding Commands" guidance, adjusting only if it conflicts with current behavior.
  </action>
  <verify>
Scan the README for outdated statements (e.g., compile-on-install) and ensure examples match the verified flags.
  </verify>
  <done>
Rust CLI README reflects current features, install model, and command examples.
  </done>
</task>

<task type="auto">
  <name>Task 3: Refresh Node CLI README with parity and feature highlights</name>
  <files>packages/cli-node/README.md</files>
  <action>
Update the Node CLI README to emphasize parity with Rust CLI and list the latest features:

1. Add a short feature overview mirroring the Rust CLI README (keep it concise).
2. Expand usage examples beyond start/status/stop to include remote hosts, mounts, and users.
3. Ensure the "How it works" section still accurately describes passthrough and platform package resolution.
4. Keep supported platforms table current and retain Windows disclaimer.
  </action>
  <verify>
Ensure the Node README aligns with the Rust README in feature scope and does not mention deprecated install behavior.
  </verify>
  <done>
Node CLI README reflects parity with Rust CLI and current feature highlights.
  </done>
</task>

</tasks>

<verification>
1. Rust and Node CLI READMEs include up-to-date features and commands
2. No outdated install model references remain
3. Command examples match actual CLI flags and subcommands
</verification>

<success_criteria>
- CLI READMEs accurately describe current features (PAM auth, mounts, hosts, updates, cockpit)
- Installation sections reflect prebuilt npm binaries
- Usage examples align with actual CLI flags
</success_criteria>

<output>
After completion, create `.planning/phases/31-update-rust-and-node-cli-readmes-with-latest-project-features/31-01-SUMMARY.md`
</output>
